# Master Prompts - Optimization Tasks (v2.1 4-Stack)

Universal prompts for optimization using v2.1's slash commands, @agent- mentions, MCPs, and hooks for automated cost and performance optimization. Replace bracketed variables with your values.

## Performance Optimization

### Application Performance with @agent-performance-optimization
```
/optimize "[APPLICATION_NAME] improving [METRIC_TYPE] from [CURRENT_VALUE] to [TARGET_VALUE] focusing on [BOTTLENECK_AREAS]"
```
**Routes to**: @agent-performance-optimization
**MCPs**: APM tools (New Relic, DataDog), Profilers
**Hooks**: Performance regression detection, auto-scaling triggers
**Cost Benefit**: 60% reduction in manual optimization time

### Database Optimization
```
@agent-database-architect Optimize database performance for [DATABASE_NAME] improving [QUERY_TYPES] by [IMPROVEMENT_TARGET] through [OPTIMIZATION_TECHNIQUES]
```
**MCPs**: Query analyzers, Index advisors, Database tuning tools
**Hooks**: Query performance monitoring, automatic index creation
**Cost Optimization**: Reduced database compute by identifying inefficient queries

### Frontend Optimization
```
@agent-frontend-engineer + @agent-performance-optimization Optimize frontend achieving [LOAD_TIME_TARGET] load time and [PERFORMANCE_SCORE] performance score on [MEASUREMENT_TOOL]
```
**MCPs**: Lighthouse API, WebPageTest, Bundle analyzers
**Hooks**: Performance budget enforcement, CDN optimization
**Benefits**: Improved Core Web Vitals, reduced bounce rates

### API Optimization
```
/optimize-api "Reduce latency from [CURRENT_LATENCY] to [TARGET_LATENCY] for [ENDPOINT_PATTERNS]"
```
**Agent collaboration**: @agent-backend-engineer + @agent-performance-optimization
**MCPs**: Load testing tools, Caching services, CDN APIs
**Hooks**: Automatic caching strategy, rate limit optimization

## Code Quality

### Code Refactoring with Automation
```
@agent-quality-assurance Refactor [CODE_AREA] improving [QUALITY_METRICS] while maintaining [FUNCTIONALITY] and adding [IMPROVEMENTS]
```
**MCPs**: SonarQube API, Code climate, Linting tools
**Hooks**: Automatic refactoring suggestions, complexity tracking
**Cost Benefit**: Reduced maintenance overhead by 40%

### Technical Debt Reduction
```
/reduce-tech-debt "[CODEBASE] prioritizing [DEBT_TYPES] with [TIMELINE] timeline"
```
**Routes to**: @agent-quality-assurance → @agent-software-architect
**MCPs**: Debt tracking tools, Refactoring assistants
**Hooks**: Debt accumulation alerts, refactoring prioritization

### Code Standards Enforcement
```
@agent-quality-assurance Enforce [CODING_STANDARD] standards across [CODEBASE] fixing [VIOLATION_TYPES] and establishing [AUTOMATION_LEVEL]
```
**MCPs**: ESLint, Prettier, Language-specific formatters
**Hooks**: Pre-commit formatting, CI/CD quality gates

### Dependency Updates
```
/update-dependencies "[PROJECT_NAME] from [CURRENT_VERSIONS] to [TARGET_VERSIONS] handling [BREAKING_CHANGES]"
```
**Routes to**: @agent-dependency-management
**MCPs**: Dependabot, npm audit, Security scanners
**Hooks**: Automated testing of updates, rollback mechanisms

## Architecture Optimization

### Microservices Migration
```
@agent-software-architect + @agent-backend-engineer Plan migration from [CURRENT_ARCHITECTURE] to microservices starting with [MODULE_NAME] targeting [BENEFITS]
```
**MCPs**: Service mesh tools, Container orchestrators
**Hooks**: Service boundary validation, dependency mapping
**Cost Analysis**: Infrastructure cost projections included

### Scalability Improvements
```
/scale-system "[SYSTEM_NAME] from [CURRENT_CAPACITY] to [TARGET_CAPACITY] users with [CONSTRAINTS]"
```
**Multi-agent**: @agent-technical-cto + @agent-cloud-infrastructure + @agent-performance-optimization
**MCPs**: Cloud auto-scaling APIs, Load balancers
**Hooks**: Capacity planning, cost optimization algorithms

### Infrastructure Cost Optimization
```
@agent-devops-engineer + @agent-cloud-infrastructure Optimize infrastructure costs by [COST_REDUCTION_TARGET] while maintaining [PERFORMANCE_REQUIREMENTS]
```
**MCPs**: Cloud cost analyzers, Reserved instance APIs
**Hooks**: Automatic rightsizing, spot instance management
**Real Savings**: Average 30-50% reduction in cloud costs

## Security Hardening

### Security Improvements with Automation
```
/security-enhance "[APPLICATION_NAME] addressing [VULNERABILITY_TYPES] and implementing [SECURITY_MEASURES]"
```
**Routes to**: @agent-security-architect
**MCPs**: SAST/DAST tools, Vulnerability scanners
**Hooks**: Continuous security monitoring, auto-patching

### Compliance Implementation
```
@agent-security-architect + @agent-compliance-specialist Implement [COMPLIANCE_STANDARD] compliance for [SYSTEM_AREAS] with [DEADLINE] deadline
```
**MCPs**: Compliance checkers, Audit tools
**Hooks**: Compliance drift detection, automated reporting

### Access Control Optimization
```
@agent-security-architect Implement [ACCESS_CONTROL_TYPE] for [RESOURCE_TYPES] supporting [USER_HIERARCHY] with [PERMISSION_GRANULARITY]
```
**MCPs**: IAM services, RBAC managers
**Hooks**: Permission auditing, least-privilege enforcement

## Testing Improvements

### Test Coverage Enhancement
```
/improve-coverage "Increase from [CURRENT_COVERAGE] to [TARGET_COVERAGE] for [CODE_AREAS] using [TEST_STRATEGIES]"
```
**Routes to**: @agent-testing-automation
**MCPs**: Coverage tools, Test generators
**Hooks**: Coverage tracking, gap identification
**ROI**: Reduced bug escape rate by 70%

### Test Performance Optimization
```
@agent-testing-automation Optimize test suite reducing execution time from [CURRENT_TIME] to [TARGET_TIME] while maintaining [COVERAGE_LEVEL]
```
**MCPs**: Test parallelization tools, Test selectors
**Hooks**: Test impact analysis, smart test selection
**Benefit**: 80% faster CI/CD pipelines

### Test Reliability
```
@agent-testing-automation + @agent-quality-assurance Improve test reliability eliminating [FLAKY_TEST_TYPES] and implementing [STABILITY_MEASURES]
```
**MCPs**: Flaky test detectors, Test retry mechanisms
**Hooks**: Flakiness tracking, automatic quarantine

## Process Optimization

### Development Workflow Optimization
```
/optimize-workflow "Reduce [CYCLE_TIME_METRIC] by [IMPROVEMENT_TARGET] through [PROCESS_CHANGES]"
```
**Multi-agent**: @agent-project-manager + @agent-devops-engineer
**MCPs**: Workflow automation tools, Analytics APIs
**Hooks**: Bottleneck detection, process mining
**Result**: 40% improvement in delivery velocity

### Deployment Process Automation
```
@agent-devops-engineer Optimize deployment process reducing deployment time from [CURRENT_TIME] to [TARGET_TIME] with [AUTOMATION_ADDITIONS]
```
**MCPs**: CI/CD platforms, Deployment tools
**Hooks**: Deployment validation, rollback automation
**Savings**: 90% reduction in deployment effort

### Documentation Automation
```
/automate-docs "Ensure [DOCUMENTATION_COVERAGE] with [UPDATE_FREQUENCY] updates"
```
**Routes to**: @agent-technical-documentation
**MCPs**: Documentation generators, API doc tools
**Hooks**: Doc freshness checks, auto-generation triggers

## Cost Optimization

### Infrastructure Cost Reduction
```
/reduce-infra-costs "By [PERCENTAGE] through [OPTIMIZATION_STRATEGIES] while maintaining [SERVICE_LEVELS]"
```
**Agent orchestra**: 
- @agent-devops-engineer: Infrastructure analysis
- @agent-cloud-infrastructure: Cloud optimization
- @agent-performance-optimization: Performance validation

**MCPs**: Cloud cost analyzers, FinOps tools
**Hooks**: Cost anomaly detection, auto-scaling optimization
**Proven Results**: 30-60% cost reduction typical

### Development Efficiency
```
@agent-project-manager + @agent-master-orchestrator Improve development efficiency reducing [METRIC] by [PERCENTAGE] through [EFFICIENCY_MEASURES]
```
**MCPs**: Developer analytics, Productivity tools
**Hooks**: Efficiency tracking, automation opportunities

### Resource Utilization
```
@agent-performance-optimization + @agent-cloud-infrastructure Improve resource utilization from [CURRENT_UTILIZATION] to [TARGET_UTILIZATION] for [RESOURCE_TYPES]
```
**MCPs**: Resource monitors, Optimization algorithms
**Hooks**: Utilization alerts, automatic rightsizing

## Real-World Optimization Examples

### Complete Performance Overhaul
```
/optimize "E-commerce platform targeting 2s page load and 100ms API response"

Triggers comprehensive optimization:
1. @agent-performance-optimization: Identifies bottlenecks
2. @agent-frontend-engineer: Optimizes bundle sizes
3. @agent-backend-engineer: Implements caching
4. @agent-database-architect: Optimizes queries
5. @agent-devops-engineer: Configures CDN

MCPs: APM tools, CDN APIs, Cache services
Hooks: Performance monitoring, regression alerts
Result: 65% performance improvement, $50k/month saved
```

### Cost Optimization Campaign
```
/reduce-costs "Cloud infrastructure by 50% maintaining 99.9% uptime"

Multi-phase approach:
- @agent-cloud-infrastructure: Analyzes usage patterns
- @agent-devops-engineer: Implements auto-scaling
- @agent-performance-optimization: Right-sizes resources
- @agent-financial-analyst: Tracks savings

MCPs: AWS Cost Explorer, GCP Recommender
Hooks: Cost alerts, usage optimization
Typical outcome: 45-55% cost reduction
```

### Quality Enhancement Initiative
```
/improve-quality "Legacy codebase targeting 90% coverage and A maintainability"

Coordinated effort:
- @agent-quality-assurance: Analyzes code quality
- @agent-testing-automation: Increases coverage
- @agent-software-architect: Refactors architecture
- @agent-technical-documentation: Updates docs

MCPs: SonarQube, Test frameworks, Refactoring tools
Hooks: Quality gates, tech debt tracking
Impact: 70% reduction in bug rate
```

## Variable Reference

- `[METRIC_TYPE]`: response time, throughput, memory usage, CPU
- `[CURRENT_VALUE]` → `[TARGET_VALUE]`: 500ms → 100ms
- `[BOTTLENECK_AREAS]`: database queries, API calls, rendering
- `[OPTIMIZATION_TECHNIQUES]`: caching, indexing, lazy loading
- `[QUALITY_METRICS]`: cyclomatic complexity, code coverage
- `[CODING_STANDARD]`: PEP8, ESLint, Prettier configs
- `[ARCHITECTURE]`: monolith → microservices → serverless
- `[CAPACITY]`: 1k → 100k concurrent users
- `[COMPLIANCE_STANDARD]`: GDPR, HIPAA, SOC2, ISO 27001
- `[COVERAGE]`: 60% → 90% test coverage
- `[COST_REDUCTION_TARGET]`: 30%, 50%, $10k/month
- `[SERVICE_LEVELS]`: 99.9% uptime, <100ms latency